(()=>{"use strict";function e(e){let t=[];return{name:e,getTodos:()=>t,addTodo:e=>{t.push(e)},removeTodo:e=>{},loadTodos:e=>{for(let o of e)t.push(o)}}}document.addEventListener("DOMContentLoaded",(t=>{let o=[];if(function(e){let t;try{t=window.localStorage;const e="__storage_test__";return t.setItem(e,e),t.removeItem(e),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}()&&localStorage.getItem("projects")){let t=JSON.parse(localStorage.getItem("projects"));for(let r of t){let t=Object.keys(r).pop(),l=e(t);l.loadTodos(r[t]),o.push(l)}localStorage.removeItem("projects")}else{let t=e("Default");t.addTodo({title:"Example Title",description:"Example Description",dueDate:"Feb 21",priority:1}),o.push(t),function(e){let t=[];for(let o of e){let e=o.name,r={[e]:[]};for(let t of o.getTodos())r[e].push(t);t.push(r)}localStorage.setItem("projects",JSON.stringify(t))}(o)}}))})();